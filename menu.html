
<!DOCTYPE html>
<html>
<head>
  <title>Secret Shop - Menu</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <h2>Welcome, Love. Pick Your Poison~</h2>
  <div id="menu"></div>

  <button onclick="confirmOrder()">Confirm Order</button>
  <div id="orderSummary"></div>

  <script>
    const menu = {
      "Addy": {
        "100 pills": 150,
        "250 pills": 275,
        "500 pills": 500,
        "1 boat (1000 pills)": 800,
        "2 boats (2000 pills)": 1400,
        "5 boats (5000 pills)": 3250,
        "10 boats (10000 pills)": 5500
      },
      "Bars": {
        "50 pills": 150,
        "100 pills": 250,
        "250 pills": 450,
        "500 pills": 700,
        "1 boat (1000 pills)": 1000,
        "2 boats (2000 pills)": 1900,
        "5 boats (5000 pills)": 4250
      },
      "K": {
        "7g": 200,
        "14g": 350,
        "28g": 650,
        "112g": 2200,
        "250g": 3800,
        "500g": 6000,
        "1kg": 11000
      },
      "M": {
        "7g": 150,
        "14g": 250,
        "28g": 500,
        "112g": 1600,
        "250g": 2500,
        "500g": 4500,
        "1kg": 8000
      },
      "OT": {
        "10 pills": 150,
        "25 pills": 250,
        "50 pills": 450,
        "100 pills": 700,
        "500 pills": 3000,
        "1000 pills": 5000
      },
      "Yay": {
        "2g": 100,
        "14g": 400,
        "28g": 650,
        "112g": 2400,
        "250g": 4500,
        "500g": 8000,
        "1000g": 15000
      }
    };

    let cart = [];

    function displayMenu(btcRate) {
      const menuDiv = document.getElementById("menu");
      for (let category in menu) {
        let catDiv = document.createElement("div");
        catDiv.innerHTML = `<h3>${category}</h3>`;
        for (let item in menu[category]) {
          let priceUSD = menu[category][item];
          let priceBTC = (priceUSD / btcRate).toFixed(6);
          let itemHTML = `
            <div class="item">
              <p>${item} - $${priceUSD} (~${priceBTC} BTC)</p>
              <button onclick="addToCart('${category}', '${item}', '${priceBTC}')">Add</button>
            </div>
          `;
          catDiv.innerHTML += itemHTML;
        }
        menuDiv.appendChild(catDiv);
      }
    }

    function addToCart(category, item, price) {
      cart.push({ category, item, price });
      alert(`${item} added, love~`);
    }

    function confirmOrder() {
      const summary = document.getElementById("orderSummary");
      summary.innerHTML = "<h3>Order Summary:</h3>";
      cart.forEach(item => {
        summary.innerHTML += `<p>${item.category} - ${item.item} - ${item.price} BTC</p>`;
      });
      summary.innerHTML += `
        <p><b>Send total to wallet:</b></p>
        <p>BTC: YourBTCWalletHere</p>
        <p>Paste txID below after payment:</p>
        <input type="text" placeholder="Transaction ID">
        <button onclick="alert('Got it, babe~ Iâ€™ll verify & ship!')">Submit</button>
      `;
    }

    axios.get('https://api.coindesk.com/v1/bpi/currentprice/BTC.json')
      .then(response => {
        const rate = response.data.bpi.USD.rate_float;
        displayMenu(rate);
      })
      .catch(error => {
        document.getElementById("menu").innerHTML = "Error fetching BTC rate, babe ðŸ˜¢";
      });
  </script>
</body>
</html>
